<app-content-card>
<div class="itunes">
    <mat-form-field class="example-form-field" appearance="outline" >
      <mat-label>Search iTunes</mat-label>
      <input matInput title="Search field" type="text" 
            (change)="onSearch()"
            [formControl]="searchTerm"
            #searchInput>
      @if (searchTerm) {
        <button matSuffix mat-icon-button aria-label="Clear" (click)="clearSearch()">
          <mat-icon>close</mat-icon>
        </button>
      }
    </mat-form-field>
    <div *ngIf="results.length > 0">
        <p>Found {{ results.length }} result(s)</p>
    </div>
    <div *ngIf="results.length === 0" class="no-results">
        <p *ngIf="searchTerm">No results found for '{{ searchTerm.value }}'</p>
    </div>
    <div class="results">
        <div *ngFor="let item of results" class="podcast-card">
            <div *ngIf="item.artworkUrl600 != ''" class="card-image">
            <img [src]="item.artworkUrl600" 
                  alt="{{ item.trackName }}" 
                  class="card-img-top rounded artwork clickable" 
                  [routerLink]="[item.collectionId]" />
            </div>
            <div class="card-body">
                <div class="card-title">
                  <h3>{{ item.collectionName }}</h3>
                  <h5 class="secondary-text">{{ item.artistName }}</h5>
                </div>
                <div class="card-text">
                  <div class="others">
                    <a [routerLink]="[item.collectionId]"><img style="max-width: 80%;" src="../../assets/Listen_on_iCatcher.png"></a>
                    
                    <!-- <div class="extras">
                      <div>iTunesID: {{ data.collectionId }}</div>
                      <div><a :href="data.feedUrl">Podcast Feed</a></div>
                    </div> -->
                  </div> 
                </div>  
            </div>
        </div>        
    </div>
</div>
</app-content-card>